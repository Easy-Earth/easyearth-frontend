.badgeCard {
  --fx: 0.2;
  position: relative;
  width: 360px;  
  height: 120px; 
  border-radius: 20px;
  overflow: hidden;
  background: #050505;
  display: flex;
  align-items: center;
}

/* 등급별 변수 */
.normal { --fx: 0.20; }
.rare { --fx: 0.55; }
.epic { --fx: 0.85; }
.legendary { --fx: 1.25; }

/* 배경 레이어 (z-index: 0~3) */
.badgeGlow {
  position: absolute;
  inset: 0;
  z-index: 0;
  background:
    radial-gradient(circle at 20% 30%, var(--g1), transparent 55%),
    radial-gradient(circle at 80% 35%, var(--g2), transparent 60%),
    linear-gradient(135deg, rgba(12, 18, 28, 0.96), rgba(8, 30, 34, 0.94));
  filter: saturate(calc(1 + 0.4 * var(--fx))) contrast(calc(1 + 0.2 * var(--fx)));
}

.legendary .rays {
  display: block; position: absolute; inset: -50%; z-index: 1;
  background: conic-gradient(from 180deg, transparent 0deg, var(--ring) 90deg, transparent 180deg, var(--ring) 270deg, transparent 360deg);
  opacity: 0.6; animation: spin 6s linear infinite;
}

.legendary .ring {
  display: block; position: absolute; inset: 5px; z-index: 2; border-radius: 16px;
  background: conic-gradient(from 0deg, transparent, var(--ring), transparent);
  mask: radial-gradient(transparent 62%, #000 65%);
  -webkit-mask: radial-gradient(transparent 62%, #000 65%);
  animation: spin 4s linear infinite reverse;
}

/* 콘텐츠 배치 (z-index: 10) */
.badgeContent {
  position: relative;
  z-index: 10;
  display: flex;
  padding: 0 18px; /* 간격 최적화 */
  gap: 15px;
  width: 100%;
  align-items: center;
}

/* 프로필 (72x72) */
.leftSide { flex-shrink: 0; }
.profileCircle {
  width: 72px;
  height: 72px;
  border-radius: 50%;
  border: 3px solid #fff;
  background: var(--b1);
  overflow: hidden;
  box-shadow: 0 0 calc(10px * var(--fx)) var(--ring);
}
.profileCircle img { width: 100%; height: 100%; object-fit: cover; }

/* 오른쪽 정보 영역 */
.rightSide {
  display: flex;
  flex-direction: column;
  flex: 1;
  align-items: center;
  gap: 2px; /* 칭호와 아래 행 사이 간격 */
}

/* 칭호 이미지 (크기 조절) */
.titleArea { height: 42px; display: flex; align-items: center; }
.titleImg { height: 100%; object-fit: contain; filter: drop-shadow(0 0 8px var(--ring)); }

/* 배지 + 닉네임 정렬 */
.userRow { 
  display: flex; 
  align-items: center; 
  gap: 10px; 
  width: 100%;
  justify-content: center; /* 가로 중앙 정렬 */
}

/* 72px 거대 배지 (120px 높이에 맞춰 최적화) */
.massiveBadgeContainer {
  width: 72px; /* 전체 높이가 줄었으므로 배지도 살짝 조정 (원하면 72px로 다시 키우셈) */
  height: 72px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.massiveBadge {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* 닉네임 */
.userName {
  font-size: 22px;
  font-weight: 900;
  color: #fff;
  white-space: nowrap;
  text-shadow: 0 2px 8px rgba(0,0,0,0.8);
}

/* 기타 프레임/쉬머 */
.badgeFrame {
  position: absolute; inset: 0; z-index: 4; border-radius: 20px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255, 0.12);
}

.shimmer {
  position: absolute; inset: -50%; z-index: 3;
  background: linear-gradient(120deg, transparent 35%, rgba(255,255,255, 0.15) 50%, transparent 65%);
  animation: shimmerMove 5s linear infinite;
  pointer-events: none;
}

@keyframes spin { to { transform: rotate(360deg); } }
@keyframes shimmerMove { 0% { transform: translateX(-55%) rotate(10deg); } 100% { transform: translateX(55%) rotate(10deg); } }
/* 전설(Legendary) 배경 색상 무지개 변환 애니메이션 */
@keyframes legendaryRainbow {
  0% { filter: hue-rotate(0deg) saturate(1.5); }
  50% { filter: hue-rotate(180deg) saturate(2); }
  100% { filter: hue-rotate(360deg) saturate(1.5); }
}

/* 에픽(Epic)용 펄스 효과 */
@keyframes epicGlow {
  0% { opacity: 0.6; transform: scale(1); }
  100% { opacity: 0.9; transform: scale(1.1); }
}

.badgeCard {
  --fx: 0.2;
  position: relative;
  width: 400px;
  height: 120px;
  border-radius: 20px;
  overflow: hidden;
  background: #000;
  display: flex;
  align-items: center;
}

/* 등급별 변수 */
.normal { --fx: 0.2; }
.rare { --fx: 0.5; }
.epic { --fx: 1.0; }
.legendary { --fx: 1.8; }

/* 배경 글로우: 전설은 여기서 색이 계속 변함 */
.badgeGlow {
  position: absolute;
  inset: -20%;
  z-index: 0;
  background:
    radial-gradient(circle at 20% 30%, var(--g1), transparent 55%),
    radial-gradient(circle at 80% 35%, var(--g2), transparent 60%),
    linear-gradient(135deg, rgba(12, 18, 28, 0.96), rgba(8, 30, 34, 0.94));
}

.legendary .badgeGlow {
  animation: legendaryRainbow 8s linear infinite; /* 전설의 색상 변환 핵심 */
}

/* 에픽 전용 강렬한 흐름 */
.epic .badgeGlow {
  animation: epicGlow 3s ease-in-out infinite alternate;
  filter: saturate(2) contrast(1.2);
}

/* 전설 광선: 더 빠르고 화려하게 */
.legendary .rays {
  display: block;
  position: absolute;
  inset: -60%;
  z-index: 1;
  background: conic-gradient(
    from 0deg,
    transparent, var(--ring), transparent 30deg,
    var(--g1), transparent 60deg,
    var(--ring), transparent 120deg
  );
  opacity: 0.7;
  animation: spin 4s linear infinite, legendaryRainbow 8s linear infinite;
}

/* 전설 링: 이중으로 겹쳐서 역회전 */
.legendary .ring {
  display: block;
  position: absolute;
  inset: 4px;
  z-index: 2;
  border-radius: 18px;
  background: conic-gradient(from 0deg, var(--ring), transparent, var(--g2), transparent);
  mask: radial-gradient(transparent 63%, #000 66%);
  -webkit-mask: radial-gradient(transparent 63%, #000 66%);
  animation: spin 2.5s linear infinite reverse;
}

/* 에픽은 링 대신 날카로운 테두리 광채 */
.epic .badgeFrame {
  box-shadow: inset 0 0 15px var(--ring), 0 0 10px var(--g1);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

/* 콘텐츠 배치 */
.badgeContent { position: relative; z-index: 10; display: flex; padding: 0 18px; gap: 15px; width: 100%; align-items: center; }

/* 거대 배지: 72px 고정 */
.massiveBadgeContainer {
  width: 72px; height: 72px; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
}
.massiveBadge { width: 100%; height: 100%; object-fit: contain; }

/* 닉네임 */
.userName {
  font-size: 24px; font-weight: 900; color: #fff;
  text-shadow: 0 0 calc(12px * var(--fx)) var(--ring);
}

@keyframes spin { to { transform: rotate(360deg); } }